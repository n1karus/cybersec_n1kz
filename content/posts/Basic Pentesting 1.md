+++
title = "Basic Pentesting 1"
date = "2020-02-10"
author = "Nik"
description = "This is the write-up for Basic Pentesting 1!"
+++

Started with trying to guess the password of the admin "Marlinspike". Did the regular admin123, password etc but after trying to guess it I gave up and went on to try find exploits.
Used the command:

	netdiscover

However as seen in Figure 1, there were only 3 IP addresses and none of them worked on Firefox as the first one is the network address, the last one is the broadcast address and the middle one is 
probably the host address.

 ![Basic_Pentesting%201%20Log/Screenshot_1.png](/basicpentesting1img/Screenshot_1.png) **Figure 1: First use of netdiscover**

 Was helped by David Taing and told to change host settings of basic pentesting 1 VM's network settings from Host-only to NAT.

 ![Basic_Pentesting%201%20Log/Screenshot_2.png](/basicpentesting1img/Screenshot_2.png) **Figure 2: Network adapter settings**

 After changing that setting and checking my netdiscover logs, another IP address that when inputted into Firefox and that did bring up a webpage.

 ![Basic_Pentesting%201%20Log/Screenshot_3.png](/basicpentesting1img/Screenshot_3.png) **Figure 3: netdiscover of all hosts found** 

 I then used nmap as seen in Figure 3 to scan what ports are open on that address. It brought up two open ports and the versions ued for each port. I immediately googled the version highlighted in Figure 3 and for a backdoor which led me to: [https://www.rapid7.com/db/modules/exploit/unix/ftp/proftpd_133c_backdoor](https://www.rapid7.com/db/modules/exploit/unix/ftp/proftpd_133c_backdoor) and showed me exactly how to exploit and get root access from the backdoor by using a script.

 ![Basic_Pentesting%201%20Log/Screenshot_4.png](/basicpentesting1img/Screenshot_4.png)

 I then used the following commands which Max helped us with to create the database and get into the console for Metasploit then continued with the commands that 
[https://www.rapid7.com/db/modules/exploit/unix/ftp/proftpd_133c_backdoor](https://www.rapid7.com/db/modules/exploit/unix/ftp/proftpd_133c_backdoor) outlined:

	sudo msfdb run 
	sudo msfconsole
    
	msf5 > use exploit/unix/ftp/proftpd_133c_backdoor
	msf5 explot(unix/ftp/proftpd_133c_backdoor) > show options
	set RHOSTS 192.168.93.129
	msf5 explot(unix/ftp/proftpd_133c_backdoor) > exploit

As you can see in Figure 5 below, after running the exploit for the backdoor and executing the *whoami* command, I now have root access to the shell for Basic Pentesting 1.

 ![Basic_Pentesting%201%20Log/Screenshot_5.png](/basicpentesting1img/Screenshot_5.png) **Figure 5: Proof of having ROOT access**

After getting root access I thought I was done but noticed David Taing  beside me trying to figure out how to get the password after having root access. After watching him go through the process 
and learning from how he was unhashing it from /etc/shadow and then figured out the password was "marlinspike". This made me shocked as the password was so simple and we could have avoided 
everything if we just tried to bruteforce our way in. Looking back I had the right idea from the beginning when I tried to do a bunch of common passwords but I forgot to try the username as the 
password.